# Как это использовать?

## Скачиваем дистрибутив, который будет использоваться внутри контейнера

```sh
curl -O https://dl-cdn.alpinelinux.org/alpine/v3.22/releases/x86_64/alpine-minirootfs-3.22.1-x86_64.tar.gz
mkdir rootfs
cd rootfs
tar -xvzf ../alpine-minirootfs-3.22.0-x86_64.tar.gz
cd ..
```

## Запускаем контейнер, указав команду (необходимо прописывать полный путь до исполняемого файла внутри контейнера)

```sh
cargo run /bin/ls
```

## Запуск контейнера с ограничением по ресурсам

```sh
MEM_MAX=500M CPU_MAX=50 PROCS_MAX=128 cargo run /bin/ls
```

### Описание переменных окружения

1. `MEM_MAX` - максимальное количество памяти, которое может использовать контейнер (в формате `100M`, `500K`, `2G` или `128000` без суффикса, если необходимо указать в байтах).
2. `CPU_MAX` - максимальная нагрузка процессора в процентах (в формате `10`, `50`, `100` и т.д.)
3. `PROCS_MAX` - максимальное количество PID, которое может использовать контейнер (если запускаемая программа создаёт потоки, для них тоже генерируются свои PID, поэтому они учитываются, хотя новых процессов не создаётся).

Если какая-то переменная окружения не указана, то соотвествующий ресурс не ограничивается.
